# Archu Documentation Hub

Welcome to the Archu documentation! This hub provides links to all documentation resources.

---

## üìö Documentation Index

### Getting Started
- **[Quick Start](../README.md#quick-start)** - Get the application running
- **[JWT Quick Start](JWT_QUICK_START.md)** - Set up authentication in 5 minutes ‚ö° 
- **[Database Seeding Guide](DATABASE_SEEDING_GUIDE.md)** - Initialize roles and admin user ‚ö°
- **[Password Policy Guide](PASSWORD_POLICY_GUIDE.md)** - Configure password requirements ‚ö°

### API Documentation ‚ö° **NEW**
- **[Archu API Documentation](ARCHU_API_DOCUMENTATION.md)** - Complete Main API guide
- **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** - Main API quick reference
- **[Admin API Quick Reference](ADMIN_API_QUICK_REFERENCE.md)** - Admin API quick reference
- **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - Compare both APIs
- **[HTTP Requests Guide](HTTP_REQUESTS_GUIDE.md)** - Testing guide
- **[OpenAPI Update Summary](OPENAPI_UPDATE_SUMMARY.md)** - API documentation update details
- **[Update Complete](UPDATE_COMPLETE.md)** - Latest updates summary

### Architecture & Design
- **[Architecture Guide](ARCHITECTURE.md)** - Clean Architecture overview
- **[Project Structure](PROJECT_STRUCTURE.md)** - Directory organization

### Authentication & Security ‚ö° **NEW**
- **[Password Complexity Validation](PASSWORD_COMPLEXITY_VALIDATION.md)** - Complete password validation guide ‚ö° **NEW**
- **[Password Validation Quick Start](PASSWORD_VALIDATION_QUICK_START.md)** - 5-minute setup guide ‚ö° **NEW**
- **[Password Validation Summary](PASSWORD_VALIDATION_IMPLEMENTATION_SUMMARY.md)** - Implementation overview ‚ö° **NEW**
- **[Password Validation Report](PASSWORD_VALIDATION_COMPLETE_REPORT.md)** - Complete report ‚ö° **NEW**
- **[Security Configuration](SECURITY_CONFIGURATION.md)** - Security settings and best practices ‚ö° **NEW**
- **[JWT Quick Start](JWT_QUICK_START.md)** - 5-minute authentication setup ‚ö°
- **[JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md)** - Complete JWT configuration reference
- **[Database Seeding Guide](DATABASE_SEEDING_GUIDE.md)** - Initialize roles and admin user
- **[Password Policy Guide](PASSWORD_POLICY_GUIDE.md)** - Configure password requirements
- **[Authentication Infrastructure](../src/Archu.Infrastructure/Authentication/README.md)** - Authentication components
- **[Authentication & Authorization](AUTHENTICATION_AND_AUTHORIZATION.md)** - Overview
- **[Authentication Implementation Details](AUTHENTICATION_IMPLEMENTATION_DETAIL.md)** - Technical details

### Development Guides
- **[Adding New Entities](../src/README_NEW_ENTITY.md)** - Step-by-step entity creation
- **[Contributing Guide](contributing/)** - Contribution guidelines

### Security
- **[Security Fixes Summary](SECURITY_FIXES_SUMMARY.md)** - Security improvements
- **[Password Reset Implementation](FIX_1_PASSWORD_RESET_IMPLEMENTATION.md)** - Password reset guide
- **[Email Confirmation Implementation](FIX_4_EMAIL_CONFIRMATION_IMPLEMENTATION.md)** - Email confirmation guide

---

## üéØ Quick Links by Task

### I want to...

#### Use the API
1. **[Update Complete](UPDATE_COMPLETE.md)** - Start here for overview ‚ö° **NEW**
2. **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** - Quick endpoint reference ‚ö° **NEW**
3. **[Archu API Documentation](ARCHU_API_DOCUMENTATION.md)** - Complete guide ‚ö° **NEW**
4. **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - Compare APIs ‚ö° **NEW**

#### Test the API
1. **[HTTP Requests Guide](HTTP_REQUESTS_GUIDE.md)** - Testing guide ‚ö° **NEW**
2. HTTP Examples: `src/Archu.Api/Archu.Api.http` (40+ examples) ‚ö° **NEW**
3. Scalar UI: https://localhost:7123/scalar/v1 ‚ö° **NEW**

#### Set up authentication
1. **[JWT Quick Start](JWT_QUICK_START.md)** - 5-minute setup ‚ö°
2. **[JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md)** - Detailed reference
3. **[Database Seeding Guide](DATABASE_SEEDING_GUIDE.md)** - Initialize roles and admin user ‚ö°
4. **[Password Policy Guide](PASSWORD_POLICY_GUIDE.md)** - Configure password requirements ‚ö°

#### Add a new feature
1. [Adding New Entities](../src/README_NEW_ENTITY.md)
2. [Architecture Guide](ARCHITECTURE.md)

#### Understand the architecture
1. [Architecture Guide](ARCHITECTURE.md)
2. [Project Structure](PROJECT_STRUCTURE.md)
3. **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - API architecture ‚ö° **NEW**

#### Deploy to production
1. [JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md#production-deployment)
2. [Architecture Guide](ARCHITECTURE.md#deployment)

---

## üìñ Documentation by Audience

### For New Developers
Start here to understand the project:
1. **[Update Complete](UPDATE_COMPLETE.md)** - Latest updates overview ‚ö° **NEW**
2. [Architecture Guide](ARCHITECTURE.md)
3. [Quick Start](../README.md#quick-start)
4. **[JWT Quick Start](JWT_QUICK_START.md)** ‚ö°
5. **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** ‚ö° **NEW**
6. [Adding New Entities](../src/README_NEW_ENTITY.md)

### For Frontend Developers
API integration and usage:
1. **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - Choose the right API ‚ö° **NEW**
2. **[Archu API Documentation](ARCHU_API_DOCUMENTATION.md)** - Complete guide ‚ö° **NEW**
3. **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** - Quick lookups ‚ö° **NEW**
4. HTTP Examples: `src/Archu.Api/Archu.Api.http` ‚ö° **NEW**

### For Backend Developers
Implementation and architecture:
1. **[OpenAPI Update Summary](OPENAPI_UPDATE_SUMMARY.md)** - Technical details ‚ö° **NEW**
2. [Architecture Guide](ARCHITECTURE.md)
3. **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - API design ‚ö° **NEW**
4. [Adding New Entities](../src/README_NEW_ENTITY.md)

### For Administrators
System management:
1. **[Admin API Quick Reference](ADMIN_API_QUICK_REFERENCE.md)** - Admin operations ‚ö° **NEW**
2. **[Database Seeding Guide](DATABASE_SEEDING_GUIDE.md)** - System initialization ‚ö°
3. **[HTTP Requests Guide](HTTP_REQUESTS_GUIDE.md)** - Testing ‚ö° **NEW**
4. HTTP Examples: `Archu.AdminApi/Archu.AdminApi.http` ‚ö° **NEW**

### For API Consumers
Using the APIs:
1. Scalar UI: https://localhost:7123/scalar/v1 (Main API) ‚ö° **NEW**
2. Scalar UI: https://localhost:7290/scalar/v1 (Admin API) ‚ö° **NEW**
3. **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** ‚ö° **NEW**
4. **[Archu API Documentation](ARCHU_API_DOCUMENTATION.md)** ‚ö° **NEW**

### For DevOps Engineers
Deployment and configuration:
1. **[JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md)**
2. [Architecture Guide - Deployment](ARCHITECTURE.md#deployment)

### For Security Auditors
Security features and best practices:
1. **[JWT Configuration Guide - Security](JWT_CONFIGURATION_GUIDE.md#security-best-practices)**
2. **[Authentication Infrastructure](../src/Archu.Infrastructure/Authentication/README.md)**
3. [Security Fixes Summary](SECURITY_FIXES_SUMMARY.md)

---

## üèóÔ∏è Project Structure

```
Archu/
‚îú‚îÄ‚îÄ docs/                                   # üìö Documentation
‚îÇ   ‚îú‚îÄ‚îÄ README.md                           # This file
‚îÇ   ‚îú‚îÄ‚îÄ UPDATE_COMPLETE.md                  # Latest updates summary NEW
‚îÇ   ‚îú‚îÄ‚îÄ ARCHU_API_DOCUMENTATION.md          # Complete API guide NEW
‚îÇ   ‚îú‚îÄ‚îÄ ARCHU_API_QUICK_REFERENCE.md        # API quick reference NEW
‚îÇ   ‚îú‚îÄ‚îÄ ADMIN_API_QUICK_REFERENCE.md        # Admin API reference NEW
‚îÇ   ‚îú‚îÄ‚îÄ API_COMPARISON_GUIDE.md             # API comparison NEW
‚îÇ   ‚îú‚îÄ‚îÄ HTTP_REQUESTS_GUIDE.md              # Testing guide NEW
‚îÇ   ‚îú‚îÄ‚îÄ OPENAPI_UPDATE_SUMMARY.md           # OpenAPI update details NEW
‚îÇ   ‚îú‚îÄ‚îÄ OPENAPI_DOCUMENTATION_UPDATE.md     # Admin API update details
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md                     # Architecture guide
‚îÇ   ‚îú‚îÄ‚îÄ JWT_QUICK_START.md                  # 5-minute JWT setup ‚ö°
‚îÇ   ‚îú‚îÄ‚îÄ JWT_CONFIGURATION_GUIDE.md          # Complete JWT reference
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE_SEEDING_GUIDE.md           # Database seeding guide
‚îÇ   ‚îú‚îÄ‚îÄ PASSWORD_POLICY_GUIDE.md            # Password policy guide
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md                # Directory organization
‚îÇ   ‚îú‚îÄ‚îÄ authentication/                     # Authentication docs
‚îÇ   ‚îú‚îÄ‚îÄ authorization/                      # Authorization docs
‚îÇ   ‚îú‚îÄ‚îÄ database/                           # Database docs
‚îÇ   ‚îî‚îÄ‚îÄ getting-started/                    # Getting started guides
‚îú‚îÄ‚îÄ scripts/                                # üîß Utility scripts
‚îÇ   ‚îú‚îÄ‚îÄ setup-jwt-secrets.ps1               # JWT setup (Windows)
‚îÇ   ‚îî‚îÄ‚îÄ setup-jwt-secrets.sh                # JWT setup (Linux/macOS)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Api/                          # üåê REST API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Archu.Api.http                  # 40+ HTTP examples NEW
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ appsettings.Staging.json        # Staging config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ appsettings.Production.json     # Production config
‚îÇ   ‚îú‚îÄ‚îÄ Archu.AdminApi/                     # üõ°Ô∏è Admin API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Archu.AdminApi.http             # 31 HTTP examples
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Domain/                       # üíº Business logic
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Application/                  # üéØ Use cases
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Infrastructure/               # üîå External concerns
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Authentication/                 # üîê Authentication
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md                   # Auth docs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DependencyInjection.cs          # Service registration
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Contracts/                    # üìù API DTOs
‚îÇ   ‚îú‚îÄ‚îÄ Archu.Ui/                           # üé® Blazor components
‚îÇ   ‚îú‚îÄ‚îÄ Archu.ServiceDefaults/              # ‚öôÔ∏è Aspire defaults
‚îÇ   ‚îú‚îÄ‚îÄ Archu.AppHost/                      # üöÄ Aspire orchestrator
‚îÇ   ‚îî‚îÄ‚îÄ README_NEW_ENTITY.md                # Development guide
‚îî‚îÄ‚îÄ README.md                               # Project overview
```

---

## üîë Key Concepts

### Clean Architecture
The project follows Clean Architecture principles with clear separation of concerns:
- **Domain**: Business entities and logic (no dependencies)
- **Application**: Use cases and abstractions
- **Infrastructure**: Database, authentication, external services
- **API**: REST endpoints and presentation

[Learn more ‚Üí](ARCHITECTURE.md)

### CQRS Pattern
Commands (writes) and Queries (reads) are separated:
- **Commands**: Create, Update, Delete operations
- **Queries**: Read operations
- Uses MediatR for request handling

[Learn more ‚Üí](ARCHITECTURE.md)

### JWT Authentication
Secure token-based authentication:
- Access tokens for API requests (short-lived)
- Refresh tokens for seamless re-authentication (long-lived)
- Secure secret management with User Secrets or Azure Key Vault

**[Learn more ‚Üí](JWT_CONFIGURATION_GUIDE.md)**

### API Architecture ‚ö° **NEW**
Two complementary APIs:
- **Archu.Api**: Public-facing API for authentication, products, and features
- **Archu.AdminApi**: Administrative API for user/role management
- Shared authentication and database
- Different authorization policies

**[Learn more ‚Üí](API_COMPARISON_GUIDE.md)**

---

## üõ†Ô∏è Common Tasks

### Running the Application

```bash
cd src/Archu.AppHost
dotnet run
```

**Access Points:**
- Main API: https://localhost:7123
- Admin API: https://localhost:7290
- Main API Docs: https://localhost:7123/scalar/v1 ‚ö° **NEW**
- Admin API Docs: https://localhost:7290/scalar/v1

### Setting Up Authentication

```bash
cd src/Archu.Api
../../scripts/setup-jwt-secrets.ps1  # Windows
../../scripts/setup-jwt-secrets.sh   # Linux/macOS
```

**[Full guide ‚Üí](JWT_QUICK_START.md)**

### Testing the API ‚ö° **NEW**

```bash
# Open HTTP files in Visual Studio
# src/Archu.Api/Archu.Api.http (40+ examples)
# Archu.AdminApi/Archu.AdminApi.http (31 examples)

# Or use Scalar UI
https://localhost:7123/scalar/v1  # Main API
https://localhost:7290/scalar/v1  # Admin API
```

**[Full guide ‚Üí](HTTP_REQUESTS_GUIDE.md)**

### Creating a Migration

```bash
cd src/Archu.Infrastructure
dotnet ef migrations add YourMigrationName --startup-project ../Archu.Api
dotnet ef database update --startup-project ../Archu.Api
```

### Adding a New Entity

Follow the step-by-step guide: [Adding New Entities](../src/README_NEW_ENTITY.md)

---

## üìù What's New (2025-01-22)

### API Documentation Overhaul ‚ö° **NEW**

‚ú® **Comprehensive OpenAPI Documentation:**
- **[Archu API Documentation](ARCHU_API_DOCUMENTATION.md)** - Complete guide (25 KB, 1000+ lines)
- **[Archu API Quick Reference](ARCHU_API_QUICK_REFERENCE.md)** - Quick reference (15 KB, 500+ lines)
- **[Admin API Quick Reference](ADMIN_API_QUICK_REFERENCE.md)** - Admin reference (12 KB, 400+ lines)
- **[API Comparison Guide](API_COMPARISON_GUIDE.md)** - Compare APIs (18 KB, 700+ lines)
- **[HTTP Requests Guide](HTTP_REQUESTS_GUIDE.md)** - Testing guide (10 KB, 350+ lines)
- **[OpenAPI Update Summary](OPENAPI_UPDATE_SUMMARY.md)** - Technical details (20 KB, 800+ lines)
- **[Update Complete](UPDATE_COMPLETE.md)** - Updates summary (15 KB, 600+ lines)

‚ú® **Enhanced OpenAPI Configuration:**
- JWT Bearer authentication fully documented
- Comprehensive API descriptions with markdown
- Interactive Scalar UI (DeepSpace theme)
- Server URLs and security requirements
- API tags with detailed descriptions

‚ú® **HTTP Request Examples:**
- 40+ examples for Main API (`src/Archu.Api/Archu.Api.http`)
- 31 examples for Admin API (`Archu.AdminApi/Archu.AdminApi.http`)
- Success and error scenarios
- Complete workflows documented
- Variables for easy customization

‚ú® **Interactive Documentation:**
- Scalar UI for Main API: https://localhost:7123/scalar/v1
- Scalar UI for Admin API: https://localhost:7290/scalar/v1
- Try-it-out functionality
- Authentication support
- Schema browsing
- Code generation

‚ú® **Documentation Coverage:**
- 100% endpoint coverage (28 total endpoints)
- 16 Main API endpoints documented
- 12 Admin API endpoints documented
- ~23,000 words of documentation
- ~133 KB of documentation files

### Password Policy

‚ú® **New Feature:**
- **[Password Policy Guide](PASSWORD_POLICY_GUIDE.md)** - Complete password policy guide
- **[Password Policy Implementation Summary](PASSWORD_POLICY_IMPLEMENTATION_SUMMARY.md)** - What was built
- Configurable password complexity requirements
- Real-time password validation
- Password strength scoring (0-100)
- Common password detection (top 100)
- Username/email prevention in passwords
- FluentValidation integration

‚ú® **New Components:**
- `PasswordPolicyOptions.cs` - Configuration value object
- `IPasswordValidator.cs` - Password validator interface
- `PasswordValidator.cs` - Implementation with strength scoring
- `PasswordValidationResult.cs` - Validation result object
- FluentValidation validators for registration, password change, and reset

‚ú® **Security Features:**
- Prevents top 100 most common passwords
- Prevents passwords containing username or email
- Configurable character requirements (uppercase, lowercase, digits, special)
- Minimum unique characters requirement
- Environment-specific policies (stricter in production)

### Database Seeding

‚ú® **New Feature:**
- **[Database Seeding Guide](DATABASE_SEEDING_GUIDE.md)** - Complete seeding guide
- **[Seeding Implementation Summary](DATABASE_SEEDING_IMPLEMENTATION_SUMMARY.md)** - What was built
- Automatic initialization of system roles and admin user
- Setup scripts for Windows and Linux/macOS
- Environment-specific configuration
- Idempotent seeding (safe to run multiple times)

‚ú® **New Tools:**
- `setup-database-seeding.ps1` - Automated seeding setup for Windows
- `setup-database-seeding.sh` - Automated seeding setup for Linux/macOS

‚ú® **New Infrastructure:**
- `DatabaseSeeder.cs` - Main seeding class
- `DatabaseSeederOptions.cs` - Configuration class
- `DatabaseSeedingExtensions.cs` - Extension methods
- Seeds 5 system roles (Guest, User, Manager, Administrator, SuperAdmin)
- Seeds admin user with configurable credentials

### JWT Configuration Enhancements

‚ú® **New Documentation:**
- **[JWT Quick Start](JWT_QUICK_START.md)** - Get authentication running in 5 minutes
- **[JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md)** - Complete reference with Azure Key Vault
- **[Authentication Infrastructure README](../src/Archu.Infrastructure/Authentication/README.md)** - Component documentation

‚ú® **New Tools:**
- `setup-jwt-secrets.ps1` - Automated JWT setup for Windows
- `setup-jwt-secrets.sh` - Automated JWT setup for Linux/macOS

‚ú® **New Infrastructure:**
- `DependencyInjection.cs` - Clean service registration for Infrastructure layer
- `appsettings.Staging.json` - Staging environment configuration
- `appsettings.Production.json` - Production environment configuration

‚ú® **Improved Program.cs:**
- Simplified service registration using `AddInfrastructure()` extension method
- Cleaner, more maintainable code

---

## üìö Related External Resources

| Topic | Resource |
|-------|----------|
| **.NET 9** | [Official Docs](https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-9) |
| **Clean Architecture** | [Martin Fowler](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html) |
| **.NET Aspire** | [Official Docs](https://learn.microsoft.com/en-us/dotnet/aspire/) |
| **OpenAPI/Swagger** | [Official Docs](https://swagger.io/specification/) |
| **Scalar UI** | [GitHub](https://github.com/scalar/scalar) |
| **JWT Best Practices** | [RFC 8725](https://datatracker.ietf.org/doc/html/rfc8725) |
| **User Secrets** | [Microsoft Docs](https://learn.microsoft.com/en-us/aspnet/core/security/app-secrets) |
| **Azure Key Vault** | [Microsoft Docs](https://learn.microsoft.com/en-us/azure/key-vault/general/overview) |

---

## ü§ù Getting Help

- **API questions**: See [API Comparison Guide](API_COMPARISON_GUIDE.md) or [Archu API Documentation](ARCHU_API_DOCUMENTATION.md) ‚ö° **NEW**
- **Testing questions**: See [HTTP Requests Guide](HTTP_REQUESTS_GUIDE.md) ‚ö° **NEW**
- **Architecture questions**: See [Architecture Guide](ARCHITECTURE.md)
- **Authentication questions**: See [JWT Configuration Guide](JWT_CONFIGURATION_GUIDE.md) or [JWT Quick Start](JWT_QUICK_START.md)
- **Security questions**: See [Security Fixes Summary](SECURITY_FIXES_SUMMARY.md)
- **Development questions**: See [Adding New Entities](../src/README_NEW_ENTITY.md)

---

## üìÖ Version History

| Version | Date | Changes |
|---------|------|---------|
| 3.0 | 2025-01-22 | **Major API documentation overhaul** (7 new docs, 71+ HTTP examples, Scalar UI) |
| 2.3 | 2025-01-22 | Added password policy configuration and database seeding guides |
| 2.2 | 2025-01-22 | Added JWT configuration guides, scripts, and DependencyInjection |
| 2.1 | 2025-01-22 | Added security fixes documentation |
| 2.0 | 2025-01-22 | Major documentation overhaul |
| 1.0 | 2025-01-17 | Initial documentation |

---

**Last Updated**: 2025-01-22  
**Version**: 3.0 ‚ö° **NEW**
**Maintainer**: Archu Development Team  
**Questions?** Open an issue on [GitHub](https://github.com/chethandvg/archu/issues)

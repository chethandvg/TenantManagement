@namespace Archu.Ui.Components.Products
@using Archu.Contracts.Products

<MudGrid Spacing="3" Class="product-grid">
    @foreach (var product in Products)
    {
        <MudItem xs="12" sm="6" md="4" lg="3">
            <ProductCard Product="@product"
                        ShowActions="@ShowActions"
                        ShowViewButton="@ShowViewButton"
                        OnView="@OnView"
                        OnEdit="@OnEdit"
                        OnDelete="@OnDelete" />
        </MudItem>
    }
</MudGrid>

@if (!Products.Any())
{
    <MudPaper Class="pa-8 mt-4" Elevation="0">
        <MudText Typo="Typo.body1" Align="Align.Center" Color="Color.Secondary">
            @EmptyMessage
        </MudText>
    </MudPaper>
}

@code {
    [Parameter]
    public IEnumerable<ProductDto> Products { get; set; } = Enumerable.Empty<ProductDto>();

    [Parameter]
    public bool ShowActions { get; set; } = true;

    [Parameter]
    public bool ShowViewButton { get; set; } = false;

    [Parameter]
    public string EmptyMessage { get; set; } = "No products available.";

    [Parameter]
    public EventCallback<ProductDto> OnView { get; set; }

    [Parameter]
    public EventCallback<ProductDto> OnEdit { get; set; }

    [Parameter]
    public EventCallback<ProductDto> OnDelete { get; set; }
}
